package com.erp.checking.utilimport android.annotation.SuppressLintimport android.support.v4.app.FragmentActivityimport android.support.v7.app.AlertDialogimport android.widget.Buttonimport android.widget.TextViewimport com.erp.checking.Rprivate var mAlertDialog: AlertDialog? = nullfun FragmentActivity.getBuilder(): AlertDialog.Builder {    return AlertDialog.Builder(this)}fun FragmentActivity.showProgress() {    if (!isFinishing) {        closeMessage()        @SuppressLint("InflateParams")        val view = layoutInflater.inflate(R.layout.progress_bar, null, false)        val builder = AlertDialog.Builder(this)            .setCancelable(false)            .setView(view)        show(builder)    }}fun FragmentActivity.showMessage(message: String) {    val inflater = this.layoutInflater    @SuppressLint("InflateParams")    val view = inflater.inflate(R.layout.dialog_inform, null)    val tvMsg = view.findViewById<TextView>(R.id.tv_content_mess)    val btnOK = view.findViewById<Button>(R.id.btnOK)    tvMsg.text = message    val builder = getBuilder()        .setView(view)        .setCancelable(false)    btnOK.setOnClickListener { closeMessage() }    show(builder)}fun FragmentActivity.showMessage(message: String, listener: () -> Unit) {    val inflater = this.layoutInflater    @SuppressLint("InflateParams")    val view = inflater.inflate(R.layout.dialog_inform, null)    val tvMsg = view.findViewById<TextView>(R.id.tv_content_mess)    val btnOK = view.findViewById<Button>(R.id.btnOK)    tvMsg.text = message    val builder = getBuilder()        .setView(view)        .setCancelable(false)    btnOK.setOnClickListener {        closeMessage()        listener.invoke()    }    show(builder)}fun closeMessage() {    try {        if (mAlertDialog != null && mAlertDialog!!.isShowing) {            mAlertDialog!!.cancel()            mAlertDialog = null        }    } catch (ignore: Exception) {    }}internal fun FragmentActivity.show(builder: AlertDialog.Builder) {    if (!isFinishing) {        try {            closeMessage()            mAlertDialog = builder.create()            mAlertDialog!!.show()        } catch (ignore: Throwable) {        }    }}